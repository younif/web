非阻塞编程

传输文件与零拷贝：

零拷贝优化是指数据在硬盘、用户态内存、内核态内存、网卡之间的数据拷贝优化，主要是基于内存映射来减少拷贝。


TCP分包与序列化：


HTTP1.0主要延时
    1. DNS解析时延（如果没有缓存）-->由URI确定IP与端口号
    2. TCP三次握手连接建立时延 -->使用TCP协议的必须开销
    3. 服务器接收请求并响应报文时延
TCP对HTTP的影响与应对策略
    1. TCP建立的时延--keepalive持久连接，减少建立次数
    2. 慢启动拥塞控制--keepalive持久连接，避开建立时的慢启动
    3. Nagle算法 --设置TCP_NODELAY（HTTP请求应答模式不搭配 ）
    4. TIME_WAIT积累端口耗尽（服务端主动关闭） -- 性能测试用，设置reuseaddr
    5. TCP队头堵塞 --弱网环境下（丢包率高），堵塞会严重

注意事项
多线程避免伪共享--CacheLine大小内的读写引起的缓存失效